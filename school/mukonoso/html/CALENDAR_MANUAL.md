# Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã¸ã®äºˆç´„æ è¿½åŠ æ–¹æ³•

## äºˆç´„æ¸ˆã¿ã‹ã©ã†ã‹ã®åˆ¤å®šæ–¹æ³•

### ç¾åœ¨ã®ä»•çµ„ã¿

1. **Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‹ã‚‰ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—**
   - ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«è‡ªå‹•å®Ÿè¡Œ
   - ç¾åœ¨ã‹ã‚‰3ãƒ¶æœˆå…ˆã¾ã§ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—

2. **äºˆç´„æ¸ˆã¿æ™‚é–“å¸¯ã®æŠ½å‡º**
   - å„ã‚¤ãƒ™ãƒ³ãƒˆã®é–‹å§‹æ™‚é–“ã‚’æŠ½å‡º
   - å½¢å¼: `{ "2025-01-15": ["10:00", "14:00", "16:00"] }`
   - `unavailableTimes`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«æ ¼ç´

3. **ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ä¸Šã§ã®è¡¨ç¤º**
   - äºˆç´„æ¸ˆã¿ã®æ™‚é–“å¸¯ã¯ã€Œdisabledã€ã‚¯ãƒ©ã‚¹ãŒè¿½åŠ ã•ã‚Œã‚‹
   - ã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆè¡¨ç¤ºã§ã‚¯ãƒªãƒƒã‚¯ä¸å¯ã«ãªã‚‹

### ç¢ºèªæ–¹æ³•

ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼ˆF12ï¼‰ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œ:

```javascript
// äºˆç´„æ¸ˆã¿æ—¥æ™‚ã‚’ç¢ºèª
console.log(unavailableTimes);

// ç‰¹å®šã®æ—¥ä»˜ã®äºˆç´„æ¸ˆã¿æ™‚é–“å¸¯ã‚’ç¢ºèª
console.log(unavailableTimes['2025-01-15']);
```

## Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«äºˆç´„æ ã‚’è¿½åŠ ã™ã‚‹æ–¹æ³•

### æ–¹æ³•1: Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«æ‰‹å‹•ã§è¿½åŠ ï¼ˆç°¡å˜ï¼‰

1. [Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼](https://calendar.google.com/)ã«ã‚¢ã‚¯ã‚»ã‚¹
2. å·¦å´ã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ä¸€è¦§ã‹ã‚‰ã€ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’é¸æŠ
3. æ—¥ä»˜ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆ
4. **ã‚¿ã‚¤ãƒˆãƒ«**: ã€Œç„¡æ–™ä½“é¨“äºˆç´„ã€ãªã©
5. **æ—¥æ™‚**: äºˆç´„å¯èƒ½ãªæ—¥æ™‚ã‚’è¨­å®š
   - ä¾‹: 2025å¹´1æœˆ20æ—¥ 14:00ï½15:00
6. **ä¿å­˜**

**æ³¨æ„**: 
- é–‹å§‹æ™‚é–“ãŒ10:00ï½19:00ã®ç¯„å›²å†…ã§ã‚ã‚‹ã“ã¨
- é–‹å§‹æ™‚é–“ãŒæ­£ç¢ºã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ï¼ˆä¾‹: 14:00ã€14:30ãªã©ï¼‰

### æ–¹æ³•2: ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡æ™‚ã«è‡ªå‹•è¿½åŠ ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡æ™‚ã«ã€ç¬¬ä¸€å¸Œæœ›ã®æ—¥æ™‚ãŒè‡ªå‹•çš„ã«Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«è¿½åŠ ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

**ç¾åœ¨ã®å®Ÿè£…**:
- ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡æ™‚ã«`addReservationToCalendar()`ãŒå®Ÿè¡Œã•ã‚Œã¾ã™
- ãŸã ã—ã€**API Keyã®ã¿ã§ã¯ã‚¤ãƒ™ãƒ³ãƒˆè¿½åŠ ã¯ã§ãã¾ã›ã‚“**ï¼ˆOAuth2.0èªè¨¼ãŒå¿…è¦ï¼‰

**å®Ÿéš›ã«å‹•ä½œã•ã›ã‚‹ã«ã¯**:
1. ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§å®Ÿè£…ã™ã‚‹ï¼ˆæ¨å¥¨ï¼‰
2. ã¾ãŸã¯ã€ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡å¾Œã«æ‰‹å‹•ã§Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«è¿½åŠ 

### æ–¹æ³•3: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§å®Ÿè£…ï¼ˆæ¨å¥¨ï¼‰

**Node.js + Express ã®ä¾‹**:

```javascript
// server.js
const express = require('express');
const { google } = require('googleapis');

const app = express();
app.use(express.json());

// OAuth2.0èªè¨¼ã®è¨­å®š
const oauth2Client = new google.auth.OAuth2(
  'YOUR_CLIENT_ID',
  'YOUR_CLIENT_SECRET',
  'YOUR_REDIRECT_URI'
);

oauth2Client.setCredentials({
  refresh_token: 'YOUR_REFRESH_TOKEN'
});

// ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
app.post('/api/add-calendar-event', async (req, res) => {
  try {
    const { date, time, summary, description } = req.body;
    
    const calendar = google.calendar({ version: 'v3', auth: oauth2Client });
    
    const startDateTime = new Date(`${date}T${time}:00+09:00`);
    const endDateTime = new Date(startDateTime);
    endDateTime.setHours(endDateTime.getHours() + 1);
    
    const event = {
      summary: summary || 'ç„¡æ–™ä½“é¨“äºˆç´„',
      description: description || '',
      start: {
        dateTime: startDateTime.toISOString(),
        timeZone: 'Asia/Tokyo',
      },
      end: {
        dateTime: endDateTime.toISOString(),
        timeZone: 'Asia/Tokyo',
      },
    };
    
    const response = await calendar.events.insert({
      calendarId: 'your-calendar-id@group.calendar.google.com',
      resource: event,
    });
    
    res.json({ success: true, event: response.data });
  } catch (error) {
    console.error('Error:', error);
    res.status(500).json({ error: 'Failed to add event' });
  }
});

app.listen(3000);
```

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å´ã®å¤‰æ›´**:

```javascript
async function addEventToGoogleCalendar(dateStr, timeStr, summary, description) {
  try {
    const response = await fetch('/api/add-calendar-event', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        date: dateStr,
        time: timeStr,
        summary: summary,
        description: description,
      }),
    });
    
    const data = await response.json();
    return data;
  } catch (error) {
    console.error('ã‚¤ãƒ™ãƒ³ãƒˆè¿½åŠ ã‚¨ãƒ©ãƒ¼:', error);
    throw error;
  }
}
```

## äºˆç´„æ ã®ç®¡ç†æ–¹æ³•

### å®šæœŸçš„ãªäºˆç´„æ ã‚’è¨­å®šã™ã‚‹

Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã§ç¹°ã‚Šè¿”ã—ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆ:

1. ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆ
2. ã€Œç¹°ã‚Šè¿”ã—ã€ã‚’é¸æŠ
3. ç¹°ã‚Šè¿”ã—ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¨­å®š
   - ä¾‹: æ¯é€±æœˆæ›œæ—¥ 14:00ï½15:00
   - ä¾‹: æ¯é€±æ°´æ›œæ—¥ 16:00ï½17:00
4. ä¿å­˜

### å–¶æ¥­æ™‚é–“å¤–ã‚’éè¡¨ç¤ºã«ã™ã‚‹

ã‚³ãƒ¼ãƒ‰å†…ã®`timeSlots`é…åˆ—ã‚’ç·¨é›†:

```javascript
// å–¶æ¥­æ™‚é–“ã‚’å¤‰æ›´ã™ã‚‹å ´åˆ
const timeSlots = ['10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00'];
// 18:00ã¨19:00ã‚’å‰Šé™¤
```

### ç‰¹å®šã®æ—¥ã‚’äºˆç´„ä¸å¯ã«ã™ã‚‹

Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«ã€Œäºˆç´„ä¸å¯ã€ã¨ã„ã†ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆ:

1. äºˆç´„ä¸å¯ã«ã—ãŸã„æ—¥ä»˜ã‚’é¸æŠ
2. ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆ
3. ã‚¿ã‚¤ãƒˆãƒ«: ã€Œäºˆç´„ä¸å¯ã€ã¾ãŸã¯ã€Œä¼‘æ ¡æ—¥ã€
4. æ™‚é–“: 10:00ï½19:00ï¼ˆã™ã¹ã¦ã®æ™‚é–“å¸¯ã‚’ã‚«ãƒãƒ¼ï¼‰
5. ä¿å­˜

## å‹•ä½œç¢ºèª

### 1. äºˆç´„æ¸ˆã¿ã®ç¢ºèª

1. Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«ãƒ†ã‚¹ãƒˆã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆ
   - æ—¥ä»˜: æ˜æ—¥ä»¥é™
   - æ™‚é–“: 14:00ï½15:00

2. ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ï¼ˆF5ï¼‰

3. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ç¢ºèª:
   ```javascript
   console.log(unavailableTimes);
   ```
   - `{ "2025-01-XX": ["14:00"] }` ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã‚‹

4. ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã§è©²å½“æ—¥ã‚’é¸æŠ
5. æ™‚é–“é¸æŠã§14:00ãŒã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

### 2. äºˆç´„æ è¿½åŠ ã®ç¢ºèª

1. ãƒ•ã‚©ãƒ¼ãƒ ã‚’é€ä¿¡
2. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ç¢ºèª:
   ```
   ğŸ“ è¿½åŠ äºˆå®šã®ã‚¤ãƒ™ãƒ³ãƒˆ: { summary: "ç„¡æ–™ä½“é¨“äºˆç´„", ... }
   ```
3. Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’ç¢ºèª
   - æ‰‹å‹•ã§è¿½åŠ ã™ã‚‹ã‹ã€ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰å®Ÿè£…ã§è‡ªå‹•è¿½åŠ 

## ã‚ˆãã‚ã‚‹è³ªå•

### Q: ãªãœäºˆç´„æ¸ˆã¿ãŒåæ˜ ã•ã‚Œãªã„ï¼Ÿ

**A**: ä»¥ä¸‹ã®ç‚¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„:
1. Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«ã‚¤ãƒ™ãƒ³ãƒˆãŒå­˜åœ¨ã™ã‚‹ã‹
2. ã‚¤ãƒ™ãƒ³ãƒˆã®é–‹å§‹æ™‚é–“ãŒ10:00ï½19:00ã®ç¯„å›²å†…ã‹
3. ã‚¤ãƒ™ãƒ³ãƒˆã®é–‹å§‹æ™‚é–“ãŒæ­£ç¢ºã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ï¼ˆä¾‹: 14:00ã€14:30ï¼‰
4. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ãªã„ã‹
5. `updateUnavailableTimes()`ã‚’æ‰‹å‹•å®Ÿè¡Œã—ã¦ç¢ºèª

### Q: äºˆç´„æ ã‚’ä¸€æ‹¬ã§è¿½åŠ ã—ãŸã„

**A**: Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã§ç¹°ã‚Šè¿”ã—ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆ:
1. ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆ
2. ã€Œç¹°ã‚Šè¿”ã—ã€ã‚’é¸æŠ
3. ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¨­å®šï¼ˆæ¯é€±ã€æ¯æ—¥ãªã©ï¼‰
4. çµ‚äº†æ—¥ã‚’è¨­å®š
5. ä¿å­˜

### Q: å–¶æ¥­æ™‚é–“å¤–ã‚’è‡ªå‹•çš„ã«éè¡¨ç¤ºã«ã—ãŸã„

**A**: `timeSlots`é…åˆ—ã‚’ç·¨é›†:
```javascript
// ä¾‹: 12:00ï½13:00ã‚’ä¼‘æ†©æ™‚é–“ã¨ã—ã¦é™¤å¤–
const timeSlots = ['10:00', '11:00', '13:00', '14:00', '15:00', '16:00', '17:00', '18:00', '19:00'];
```


