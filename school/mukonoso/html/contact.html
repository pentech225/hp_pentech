<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãŠå•ã„åˆã‚ã› | iTeen æ­¦åº«ä¹‹è˜æ ¡</title>
    <style>
        :root {
            --primary: #4A90E2;
            --accent: #F5A623;
            --text: #333333;
            --bg: #FAFAFA;
            --white: #FFFFFF;
        }
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }
        .container {
            padding: 0 20px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        header {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: var(--white);
            padding: 15px 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            width: 100%;
        }
        .header-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        .header-brand {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        .header-logo {
            max-height: 50px;
            width: auto;
        }
        .header-brand > a:first-child {
            text-decoration: none;
            display: inline-block;
            transition: opacity 0.2s;
        }
        .header-brand > a:first-child:hover {
            opacity: 0.8;
        }
        .header-school-name {
            font-size: 1.2rem;
            color: var(--text);
            font-weight: normal;
            white-space: nowrap;
        }
        .header-phone {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
            text-decoration: none;
            white-space: nowrap;
        }
        .header-phone:hover {
            text-decoration: underline;
        }
        .header-line-button {
            background-color: #06C755;
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: bold;
            white-space: nowrap;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .header-line-button:hover {
            background-color: #05B04A;
            transform: translateY(-1px);
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
        }
        .header-nav {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
            width: 100%;
            padding-top: 10px;
            border-top: 1px solid #eee;
        }
        .header-nav a {
            color: var(--text);
            text-decoration: none;
            font-size: 0.95rem;
            font-weight: 500;
            padding: 5px 10px;
            border-radius: 5px;
            transition: all 0.2s;
            white-space: nowrap;
        }
        .header-nav a:hover {
            color: var(--primary);
            background-color: #f0f8ff;
        }
        
        /* ãŠå•ã„åˆã‚ã›ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .contact-section {
            padding: 50px 0;
            background: linear-gradient(150deg, #e0f2ff 0%, var(--white) 100%);
        }
        .contact-title {
            text-align: center;
            font-size: 1.8rem;
            color: var(--accent);
            margin-bottom: 10px;
        }
        .contact-subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 0.95rem;
        }
        .contact-form {
            background: var(--white);
            border-radius: 15px;
            padding: 30px 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            margin-top: 20px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-label {
            display: block;
            font-size: 1rem;
            font-weight: bold;
            color: var(--text);
            margin-bottom: 8px;
        }
        .form-label .required {
            color: #F44336;
            margin-left: 4px;
        }
        .form-label .optional {
            color: #999;
            font-size: 0.85rem;
            font-weight: normal;
            margin-left: 4px;
        }
        .form-input,
        .form-textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #E0E0E0;
            border-radius: 8px;
            font-size: 1rem;
            color: var(--text);
            box-sizing: border-box;
            transition: border-color 0.2s;
            font-family: inherit;
        }
        .form-input:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
        }
        .form-input::placeholder,
        .form-textarea::placeholder {
            color: #999;
        }
        .form-input.error,
        .form-textarea.error {
            border-color: #F44336;
            background-color: #ffebee;
        }
        .form-textarea {
            min-height: 150px;
            resize: vertical;
        }
        .form-error-message {
            margin-top: 8px;
            padding: 8px 12px;
            background-color: #ffebee;
            border-left: 4px solid #F44336;
            border-radius: 4px;
            font-size: 0.85rem;
            color: #c62828;
            display: none;
        }
        .form-error-message.show {
            display: block;
        }
        .submit-button {
            background-color: var(--accent);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            width: 100%;
            max-width: 400px;
            display: block;
            margin: 30px auto 0;
        }
        .submit-button:hover {
            background-color: #E0951A;
            transform: translateY(-1px);
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
        }
        .submit-button:disabled {
            background-color: #CCCCCC;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .contact-card {
            background: var(--white);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            text-align: center;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .contact-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }
        .contact-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }
        .contact-card h3 {
            color: var(--primary);
            font-size: 1.1rem;
            margin-bottom: 10px;
        }
        .contact-card a {
            color: var(--text);
            text-decoration: none;
            font-size: 1rem;
            display: block;
            margin-top: 10px;
            word-break: break-all;
        }
        .contact-card a:hover {
            color: var(--primary);
            text-decoration: underline;
        }
        .contact-card p {
            color: var(--text);
            font-size: 0.95rem;
            margin: 0;
        }
        .success-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        .success-modal.show {
            display: flex;
        }
        .success-modal-content {
            background-color: var(--white);
            border-radius: 15px;
            padding: 40px 30px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            text-align: center;
            position: relative;
        }
        .success-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }
        .success-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent);
            margin-bottom: 20px;
        }
        .success-message {
            font-size: 1rem;
            color: var(--text);
            line-height: 1.8;
            margin-bottom: 25px;
            text-align: left;
        }
        .success-message p {
            margin: 10px 0;
        }
        .success-phone {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary);
            margin-top: 15px;
        }
        .success-close-button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 40px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
        }
        .success-close-button:hover {
            background-color: #357ABD;
            transform: translateY(-1px);
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
        }
        footer {
            padding: 20px;
            text-align: center;
            background: #444;
            color: white;
            font-size: 0.8rem;
            margin-top: 40px;
        }
        footer a {
            color: white;
            text-decoration: none;
        }
        footer a:hover {
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            .header-top {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            .header-brand {
                width: 100%;
                justify-content: space-between;
            }
            .header-line-button {
                font-size: 0.85rem;
                padding: 8px 16px;
            }
            .header-nav {
                gap: 10px;
            }
            .header-nav a {
                font-size: 0.85rem;
                padding: 5px 8px;
            }
            .contact-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-top">
            <div class="header-brand">
                <a href="../index.html"><img src="../images/iteen_logo.png" alt="iTeen ãƒ­ã‚´" class="header-logo"></a>
                <div class="header-school-name">æ­¦åº«ä¹‹è˜æ ¡</div>
                <a href="tel:" class="header-phone" id="header-phone-link">â˜</a>
            </div>

        </div>
        <nav class="header-nav">
            <a href="../index.html">ãƒ›ãƒ¼ãƒ </a>
            <a href="../index.html#news">ãƒ‹ãƒ¥ãƒ¼ã‚¹</a>
            <a href="../index.html#courses">ã‚³ãƒ¼ã‚¹</a>
            <a href="../index.html#teachers">è¬›å¸«</a>
            <a href="values.html">å¤§åˆ‡ã«ã—ã¦ã„ã‚‹ã“ã¨</a>
            <a href="../index.html#fee">æ–™é‡‘</a>
            <a href="../index.html#faq">ã‚ˆãã‚ã‚‹è³ªå•</a>
            <a href="../index.html#access">ã‚¢ã‚¯ã‚»ã‚¹</a>
            <a href="reserve.html">ç„¡æ–™ä½“é¨“äºˆç´„</a>
            <a href="https://page.line.me/555qxcak?oat_content=url&openQrModal=true" target="_blank" rel="noopener noreferrer" class="header-line-button">
                LINE
            </a>
        </nav>
    </header>

    <section class="contact-section">
        <div class="container">
            <h2 class="contact-title">ğŸ“ ãŠå•ã„åˆã‚ã›</h2>
            <p style="margin-top: 10px; font-size: 0.85rem; color: #666;">
                ãƒ¡ãƒ¼ãƒ«ï¼š<span id="contact-email"></span><br>
                é›»è©±: <span id="contact-phone"></span><br>
                FAX: <span id="contact-fax"></span><br>
            </p>
            
            <div class="contact-form">
                <form id="contact-form" onsubmit="submitContact(event)">
                    
                    <div class="form-group">
                        <label for="message" class="form-label">
                            ãŠå•ã„åˆã‚ã›å†…å®¹<span class="required">*</span>
                        </label>
                        <textarea 
                            id="message" 
                            class="form-textarea" 
                            placeholder="ã”è³ªå•ã‚„ã”ç›¸è«‡å†…å®¹ã‚’ã”è¨˜å…¥ãã ã•ã„"
                            required
                        ></textarea>
                    </div>

                    <div class="form-group">
                        <label for="email" class="form-label">
                            ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹<span class="required">*</span>
                        </label>
                        <input 
                            type="email" 
                            id="email" 
                            class="form-input" 
                            placeholder="ä¾‹ï¼šexample@email.com"
                            required
                            oninput="validateEmail()"
                        >
                        <div class="form-error-message" id="email-error">
                            æ­£ã—ã„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone" class="form-label">
                            é›»è©±ç•ªå·<span class="optional"></span>
                        </label>
                        <input 
                            type="tel" 
                            id="phone" 
                            class="form-input" 
                            placeholder="ä¾‹ï¼š09012345678"
                            oninput="validatePhone()"
                        >
                        <div class="form-error-message" id="phone-error">
                            æ­£ã—ã„é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚10æ¡ã¾ãŸã¯11æ¡ã®æ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
                        </div>
                    </div>
                    
                    <button type="submit" class="submit-button" id="submit-button">
                        é€ä¿¡ã™ã‚‹
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- é€ä¿¡å®Œäº†ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div class="success-modal" id="success-modal">
        <div class="success-modal-content">
            <div class="success-icon">âœ…</div>
            <h2 class="success-title">ãŠå•ã„åˆã‚ã›ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™</h2>
            <div class="success-message">
                <p>ã“ã®åº¦ã¯ã€iTeen æ­¦åº«ä¹‹è˜æ ¡ã«ãŠå•ã„åˆã‚ã›ã„ãŸã ãã€èª ã«ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚</p>
                <p>ã”å…¥åŠ›ã„ãŸã ã„ãŸãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«è‡ªå‹•å¿œç­”ãƒ¡ãƒ¼ãƒ«ã‚’ãŠé€ã‚Šã—ã¾ã—ãŸã€‚ãƒ¡ãƒ¼ãƒ«ã‚’ã”ç¢ºèªãã ã•ã„ã€‚</p>
                <p>æ‹…å½“è€…ã‚ˆã‚Š<strong>2å–¶æ¥­æ—¥ä»¥å†…</strong>ã«ã”è¿”ä¿¡ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚</p>
                <p>ä¸‡ä¸€ã€è¿”ä¿¡ãŒãªã„å ´åˆã¯ã€ãŠæ‰‹æ•°ã§ã™ãŒç›´æ¥ãŠé›»è©±ã§ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚</p>
                <div class="success-phone">
                    <a href="tel:" id="success-phone-link">â˜ </a>
                </div>
            </div>
            <button class="success-close-button" onclick="closeSuccessModal()">é–‰ã˜ã‚‹</button>
        </div>
    </div>

    <footer>
        <p><a href="../index.html#access">ã‚¢ã‚¯ã‚»ã‚¹ãƒ»å–¶æ¥­æ™‚é–“ã¯ã“ã¡ã‚‰</a></p>
        <p>&copy; 2025 iTeen æ­¦åº«ä¹‹è˜æ ¡</p>
    </footer>

    <!-- å…±é€šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€ -->
    <script src="config.js"></script>
    
    <script>
        // è¨­å®šå€¤ã¯config.jsã‹ã‚‰èª­ã¿è¾¼ã¾ã‚Œã‚‹
        
        // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        function validateEmail() {
            const emailInput = document.getElementById('email');
            const errorMessage = document.getElementById('email-error');
            const email = emailInput.value.trim();
            
            if (email) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                const isValid = emailRegex.test(email);
                
                if (isValid) {
                    emailInput.classList.remove('error');
                    errorMessage.classList.remove('show');
                    return true;
                } else {
                    emailInput.classList.add('error');
                    errorMessage.classList.add('show');
                    return false;
                }
            } else {
                emailInput.classList.remove('error');
                errorMessage.classList.remove('show');
                return false;
            }
        }
        
        // é›»è©±ç•ªå·ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆäºˆç´„ãƒ•ã‚©ãƒ¼ãƒ ã¨åŒã˜ãƒ­ã‚¸ãƒƒã‚¯ï¼‰
        function validateJapanesePhoneNumber(phone) {
            const cleaned = phone.replace(/[-\s]/g, '');
            if (!/^\d+$/.test(cleaned)) {
                return false;
            }
            if (cleaned.length !== 10 && cleaned.length !== 11) {
                return false;
            }
            if (!cleaned.startsWith('0')) {
                return false;
            }
            if (cleaned.length === 11 && /^0[789]0/.test(cleaned)) {
                return true;
            }
            if (cleaned.length === 10 || cleaned.length === 11) {
                if (/^0(120|800|570|500|200|990|920|930|950|960|980|570)/.test(cleaned)) {
                    return true;
                }
                if (/^0[1-9]/.test(cleaned)) {
                    return true;
                }
            }
            return false;
        }
        
        function validatePhone() {
            const phoneInput = document.getElementById('phone');
            const errorMessage = document.getElementById('phone-error');
            const phone = phoneInput.value.trim();
            
            if (phone) {
                const isValid = validateJapanesePhoneNumber(phone);
                
                if (isValid) {
                    phoneInput.classList.remove('error');
                    errorMessage.classList.remove('show');
                    return true;
                } else {
                    phoneInput.classList.add('error');
                    errorMessage.classList.add('show');
                    return false;
                }
            } else {
                phoneInput.classList.remove('error');
                errorMessage.classList.remove('show');
                return true; // ä»»æ„é …ç›®ãªã®ã§ç©ºæ¬„ã¯OK
            }
        }
        
        // ãŠå•ã„åˆã‚ã›ã‚’é€ä¿¡
        function submitContact(event) {
            event.preventDefault();
            
            const emailInput = document.getElementById('email');
            const phoneInput = document.getElementById('phone');
            const messageInput = document.getElementById('message');
            
            const email = emailInput.value.trim();
            const phone = phoneInput.value.trim();
            const message = messageInput.value.trim();
            
            // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
            if (!validateEmail()) {
                alert('æ­£ã—ã„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
                emailInput.focus();
                return;
            }
            
            if (phone && !validatePhone()) {
                alert('æ­£ã—ã„é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
                phoneInput.focus();
                return;
            }
            
            if (!message) {
                alert('ãŠå•ã„åˆã‚ã›å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
                messageInput.focus();
                return;
            }
            
            // é€ä¿¡ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
            const submitButton = document.getElementById('submit-button');
            submitButton.disabled = true;
            submitButton.textContent = 'é€ä¿¡ä¸­...';
            
            // ãƒ¡ãƒ¼ãƒ«é€ä¿¡ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
            const emailData = {
                to: CONFIG.EMAIL,
                subject: 'ãŠå•ã„åˆã‚ã›',
                email: email,
                phone: phone || 'æœªå…¥åŠ›',
                message: message,
                body: `ãŠå•ã„åˆã‚ã›ãŒã‚ã‚Šã¾ã—ãŸã€‚

ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹: ${email}
é›»è©±ç•ªå·: ${phone || 'æœªå…¥åŠ›'}
ãŠå•ã„åˆã‚ã›å†…å®¹:
${message}

---
ã“ã®ãƒ¡ãƒ¼ãƒ«ã¯ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰è‡ªå‹•é€ä¿¡ã•ã‚Œã¾ã—ãŸã€‚
iTeen æ­¦åº«ä¹‹è˜æ ¡`,
                // è‡ªå‹•å¿œç­”ãƒ¡ãƒ¼ãƒ«ç”¨
                replyTo: email,
                replySubject: 'ã€iTeen æ­¦åº«ä¹‹è˜æ ¡ã€‘ãŠå•ã„åˆã‚ã›ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™',
                replyBody: `${email} æ§˜

ã“ã®åº¦ã¯ã€iTeen æ­¦åº«ä¹‹è˜æ ¡ã«ãŠå•ã„åˆã‚ã›ã„ãŸã ãã€èª ã«ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚

ä»¥ä¸‹ã®å†…å®¹ã§ãŠå•ã„åˆã‚ã›ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸã€‚

ã€ãŠå•ã„åˆã‚ã›å†…å®¹ã€‘
${message}

æ‹…å½“è€…ã‚ˆã‚Š2å–¶æ¥­æ—¥ä»¥å†…ã«ã”é€£çµ¡ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚
ãŠæ€¥ãã®å ´åˆã¯ã€ãŠé›»è©±ï¼ˆ${CONFIG.PHONE}ï¼‰ã§ã‚‚ãŠå•ã„åˆã‚ã›ã„ãŸã ã‘ã¾ã™ã€‚

ä»Šå¾Œã¨ã‚‚iTeen æ­¦åº«ä¹‹è˜æ ¡ã‚’ã‚ˆã‚ã—ããŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚

---
iTeen æ­¦åº«ä¹‹è˜æ ¡
é›»è©±: ${CONFIG.PHONE}
ãƒ¡ãƒ¼ãƒ«: ${CONFIG.EMAIL}`
            };
            
            // Google Apps Scriptã®Webã‚¢ãƒ—ãƒªã«POSTãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡
            console.log('ğŸ“¤ ãŠå•ã„åˆã‚ã›ã‚’é€ä¿¡ä¸­...', emailData);
            
            // Google Apps Scriptã¯CORSã‚’å®Œå…¨ã«ã¯ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„ãŸã‚ã€no-corsãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ç”¨
            // æ³¨æ„: no-corsãƒ¢ãƒ¼ãƒ‰ã§ã¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å–å¾—ã§ããªã„ãŒã€ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã¯æˆåŠŸã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹
            fetch(CONFIG.GOOGLE_APPS_SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors', // no-corsãƒ¢ãƒ¼ãƒ‰ã§CORSã‚¨ãƒ©ãƒ¼ã‚’å›é¿
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(emailData)
            })
            .then(() => {
                // no-corsãƒ¢ãƒ¼ãƒ‰ã§ã¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å–å¾—ã§ããªã„ãŸã‚ã€å¸¸ã«æˆåŠŸã¨ã—ã¦æ‰±ã†
                // å®Ÿéš›ã«ã¯ãƒ¡ãƒ¼ãƒ«é€ä¿¡ãŒæˆåŠŸã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒé«˜ã„
                console.log('âœ… ãŠå•ã„åˆã‚ã›ã‚’é€ä¿¡ã—ã¾ã—ãŸï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯å–å¾—ã§ãã¾ã›ã‚“ãŒã€ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã¯æˆåŠŸã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ï¼‰');
                
                // ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒªã‚»ãƒƒãƒˆ
                document.getElementById('contact-form').reset();
                document.getElementById('email-error').classList.remove('show');
                document.getElementById('phone-error').classList.remove('show');
                emailInput.classList.remove('error');
                phoneInput.classList.remove('error');
                
                submitButton.disabled = false;
                submitButton.textContent = 'é€ä¿¡ã™ã‚‹';
                
                // æˆåŠŸãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¡¨ç¤º
                showSuccessModal();
            })
            .catch(function(error) {
                console.error('âŒ ãŠå•ã„åˆã‚ã›é€ä¿¡ã‚¨ãƒ©ãƒ¼:', error);
                alert(`ãŠå•ã„åˆã‚ã›ã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚\n\nã‚¨ãƒ©ãƒ¼: ${error.message}\n\nãŠæ‰‹æ•°ã§ã™ãŒã€ç›´æ¥ãƒ¡ãƒ¼ãƒ«ï¼ˆ${CONFIG.EMAIL}ï¼‰ã¾ãŸã¯ãŠé›»è©±ï¼ˆ${CONFIG.PHONE}ï¼‰ã§ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚`);
                
                submitButton.disabled = false;
                submitButton.textContent = 'é€ä¿¡ã™ã‚‹';
            });
        }
        
        // è¨­å®šå€¤ã‚’ãƒšãƒ¼ã‚¸ã«åæ˜ 
        function initializeConfig() {
            // ãƒ˜ãƒƒãƒ€ãƒ¼ã®é›»è©±ç•ªå·ãƒªãƒ³ã‚¯
            const headerPhoneLink = document.getElementById('header-phone-link');
            if (headerPhoneLink) {
                headerPhoneLink.href = `tel:${CONFIG.PHONE}`;
                headerPhoneLink.textContent = `â˜${CONFIG.PHONE}`;
            }
            
            // ãŠå•ã„åˆã‚ã›ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®é€£çµ¡å…ˆæƒ…å ±
            const contactEmail = document.getElementById('contact-email');
            if (contactEmail) contactEmail.textContent = CONFIG.EMAIL;
            const contactPhone = document.getElementById('contact-phone');
            if (contactPhone) contactPhone.textContent = CONFIG.PHONE;
            const contactFax = document.getElementById('contact-fax');
            if (contactFax) contactFax.textContent = CONFIG.FAX;
            
            // æˆåŠŸãƒ¢ãƒ¼ãƒ€ãƒ«ã®é›»è©±ç•ªå·ãƒªãƒ³ã‚¯
            const successPhoneLink = document.getElementById('success-phone-link');
            if (successPhoneLink) {
                successPhoneLink.href = `tel:${CONFIG.PHONE}`;
                successPhoneLink.textContent = `â˜ ${CONFIG.PHONE}`;
            }
        }
        
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«è¨­å®šå€¤ã‚’åæ˜ 
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeConfig);
        } else {
            initializeConfig();
        }
        
        // æˆåŠŸãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¡¨ç¤º
        function showSuccessModal() {
            const modal = document.getElementById('success-modal');
            modal.classList.add('show');
            // ãƒ¢ãƒ¼ãƒ€ãƒ«ã®èƒŒæ™¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚é–‰ã˜ãªã„ã‚ˆã†ã«ã™ã‚‹
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeSuccessModal();
                }
            });
        }
        
        // æˆåŠŸãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
        function closeSuccessModal() {
            const modal = document.getElementById('success-modal');
            modal.classList.remove('show');
        }
    </script>
</body>
</html>
