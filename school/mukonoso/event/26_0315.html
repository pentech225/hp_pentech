<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ­¦åº«ã£å­ã‚ã¤ã¾ã‚Œï¼ã‚²ãƒ¼ãƒ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å¤§ä¼š | iTeen æ­¦åº«ä¹‹è˜æ ¡</title>
    
    <!-- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä¿è­· -->
    <script src="../html/config.js"></script>
    <script src="../html/password-check.js"></script>
    <!-- ãƒ¡ãƒ¼ãƒ«é€ä¿¡å±¥æ­´ç®¡ç† -->
    <script src="../html/email-history.js"></script>
    <link rel="stylesheet" href="../css/style.css">
    <style>
        :root {
            --primary: #4A90E2;
            --accent: #F5A623;
            --text: #333333;
            --bg: #FAFAFA;
            --white: #FFFFFF;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }
        
        .container {
            padding: 0 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        header {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: var(--white);
            padding: 15px 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            width: 100%;
        }
        .header-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        .header-brand {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        .header-logo {
            max-height: 50px;
            width: auto;
        }
        .header-brand > a:first-child {
            text-decoration: none;
            display: inline-block;
            transition: opacity 0.2s;
        }
        .header-brand > a:first-child:hover {
            opacity: 0.8;
        }
        .header-school-name {
            font-size: 1.2rem;
            color: var(--text);
            font-weight: normal;
            white-space: nowrap;
        }
        .header-phone {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
            text-decoration: none;
            white-space: nowrap;
        }
        .header-phone:hover {
            text-decoration: underline;
        }
        .header-line-button {
            background-color: #06C755;
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: bold;
            white-space: nowrap;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .header-line-button:hover {
            background-color: #05B04A;
            transform: translateY(-1px);
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
        }
        .header-nav {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
            width: 100%;
            padding-top: 10px;
            border-top: 1px solid #eee;
        }
        .header-nav a {
            color: var(--text);
            text-decoration: none;
            font-size: 0.95rem;
            font-weight: 500;
            padding: 5px 10px;
            border-radius: 5px;
            transition: all 0.2s;
            white-space: nowrap;
        }
        .header-nav a:hover {
            color: var(--primary);
            background-color: #f0f8ff;
        }
        
        /* ã‚¤ãƒ™ãƒ³ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .event-section {
            padding: 50px 0;
        }
        .event-title {
            text-align: center;
            font-size: 2rem;
            color: var(--accent);
            margin-bottom: 20px;
            font-weight: bold;
        }
        .event-subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 40px;
            font-size: 1.1rem;
        }
        .event-card {
            background: var(--white);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        .event-card h3 {
            color: var(--primary);
            font-size: 1.5rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .event-icon {
            font-size: 2rem;
        }
        .event-card p {
            font-size: 1rem;
            color: var(--text);
            margin-bottom: 15px;
            line-height: 1.8;
        }
        .event-card ul {
            margin: 15px 0;
            padding-left: 25px;
        }
        .event-card li {
            margin-bottom: 10px;
            font-size: 1rem;
            color: var(--text);
            line-height: 1.8;
        }
        .event-highlight {
            background: linear-gradient(135deg, #fff8e1 0%, #fff3e0 100%);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        .event-highlight p {
            margin: 0;
            font-weight: 500;
            color: var(--text);
        }
        .event-info-box {
            background: #f0f8ff;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .event-info-box h4 {
            color: var(--primary);
            font-size: 1.2rem;
            margin-bottom: 15px;
        }
        .event-info-box p {
            margin: 8px 0;
            font-size: 1rem;
        }
        .event-info-box ul {
            margin: 10px 0;
            padding-left: 25px;
        }
        
        footer {
            padding: 20px;
            text-align: center;
            background: #444;
            color: white;
            font-size: 0.8rem;
        }
        footer a {
            color: white;
            text-decoration: none;
        }
        footer a:hover {
            text-decoration: underline;
        }
        
        /* æ™‚é–“å¸¯é¸æŠãƒœã‚¿ãƒ³ */
        .time-slot-selection {
            margin-bottom: 30px;
        }
        .time-slot-label {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--text);
            margin-bottom: 15px;
            display: block;
        }
        .time-slot-required {
            color: #F44336;
            font-size: 0.9rem;
            margin-left: 5px;
        }
        .time-slot-buttons {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }
        .time-slot-button {
            background-color: var(--white);
            border: 2px solid #E0E0E0;
            border-radius: 8px;
            padding: 15px 20px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 1rem;
            color: var(--text);
            position: relative;
        }
        .time-slot-button:hover {
            border-color: var(--primary);
            background-color: #F0F7FF;
        }
        .time-slot-button.selected {
            border-color: var(--primary);
            background-color: var(--primary);
            color: white;
            font-weight: bold;
        }
        .time-slot-button .time-label {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .time-slot-button .time-duration {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        /* ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ› */
        .form-group {
            margin-bottom: 25px;
        }
        .form-label {
            font-size: 1rem;
            font-weight: bold;
            color: var(--text);
            margin-bottom: 8px;
            display: block;
        }
        .form-label .required {
            color: #F44336;
            font-size: 0.9rem;
            margin-left: 5px;
        }
        .form-label .optional {
            color: #666;
            font-size: 0.85rem;
            font-weight: normal;
            margin-left: 5px;
        }
        .form-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #E0E0E0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s;
            box-sizing: border-box;
        }
        .form-input:focus {
            outline: none;
            border-color: var(--primary);
        }
        .form-input.error {
            border-color: #F44336;
            background-color: #ffebee;
        }
        .form-textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #E0E0E0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s;
            box-sizing: border-box;
            min-height: 120px;
            resize: vertical;
            font-family: inherit;
        }
        .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
        }
        .error-message {
            color: #F44336;
            font-size: 0.85rem;
            margin-top: 5px;
            display: none;
        }
        .error-message.show {
            display: block;
        }
        .form-notice {
            background: #f0f8ff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 0.9rem;
            color: var(--text);
            line-height: 1.6;
        }
        
        /* é€ä¿¡ãƒœã‚¿ãƒ³ */
        .submit-section {
            text-align: center;
            margin-top: 30px;
        }
        .submit-button {
            background-color: var(--accent);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            width: 100%;
            max-width: 400px;
        }
        .submit-button:hover:not(:disabled) {
            background-color: #E0951A;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .submit-button:disabled {
            background-color: #CCCCCC;
            cursor: not-allowed;
            transform: none;
        }
        
        /* æ„Ÿè¬ãƒšãƒ¼ã‚¸ */
        .thank-you-section {
            display: none;
            padding: 50px 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .thank-you-section.show {
            display: block;
        }
        .thank-you-container {
            max-width: 600px;
            margin: 0 auto;
            padding: 40px 20px;
            text-align: center;
            color: white;
        }
        .reservation-info-box {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: left;
        }
        .reservation-info-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .reservation-info-item {
            margin-bottom: 10px;
            font-size: 1rem;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-top">
            <div class="header-brand">
                <a href="../index.html"><img src="../images/iteen_logo.png" alt="iTeen ãƒ­ã‚´" class="header-logo"></a>
                <div class="header-school-name">æ­¦åº«ä¹‹è˜æ ¡</div>
                <a href="tel:06-6438-8277" class="header-phone">â˜06-6438-8277</a>
            </div>
            <a href="https://page.line.me/555qxcak?oat_content=url&openQrModal=true" target="_blank" rel="noopener noreferrer" class="header-line-button">
                ğŸ’¬ LINEã§è³ªå•
            </a>
        </div>
    </header>

    <!-- ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section class="event-section" style="background: linear-gradient(150deg, #fff3e0 0%, var(--white) 100%);">
        <div class="container">
            <h1 class="event-title">æ­¦åº«ã£å­ã‚ã¤ã¾ã‚Œï¼ã‚²ãƒ¼ãƒ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å¤§ä¼š</h1>
            <p class="event-subtitle">ä¸»å‚¬ï¼šiTeen å­ã©ã‚‚ã®ãŸã‚ã®ICTæ•™è‚²æ™®åŠä¿ƒé€²å§”å“¡ä¼š<br>
                ç§ãŸã¡ã¯å­ã©ã‚‚ãŸã¡ã®ã€Œæœªæ¥ã‚’åˆ‡ã‚Šæ‹“ãåŠ›ã€ã‚’è‚²ã¦ã‚‹æ´»å‹•ã‚’å…¨å›½ã§æ¨é€²ã—ã¦ã„ã¾ã™ã€‚
                </p>
            
            <div>
                <h3>
                    <span class="event-icon"></span>
                    ã‚¤ãƒ™ãƒ³ãƒˆæ¦‚è¦
                </h3>
                <p>
                    ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãŒåˆã‚ã¦ã®ç”Ÿå¾’å…ç«¥ã«ã‚‚åˆ†ã‹ã‚Šã‚„ã™ãã€æ¥½ã—ããã®ä»•çµ„ã¿ã‚„é­…åŠ›ã‚’ä¼ãˆã‚‹å•“è’™ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚Scratchã‚²ãƒ¼ãƒ ã®ãƒ—ãƒ¬ã‚¤ï¼ˆãƒã‚¦ã‚¹ã‚„ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œç·´ç¿’ï¼‰ã¨ã„ã†åŸºæœ¬ã‹ã‚‰ã€ã‚³ãƒ¼ãƒ‰ã®æ”¹é€ ã‚’è¡Œã†ã“ã¨ã§å¤‰æ•°ã‚„å„ç¨®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å‡¦ç†ã®æ„å‘³ã‚’ä½“æ„Ÿã—ã¦ã‚‚ã‚‰ã„ã¾ã™ã€‚
                </p>
                <p>
                    ã•ã‚‰ã«ã€åŸºç¤ã«ç¿’ç†Ÿã—ãŸå­ã©ã‚‚é”å‘ã‘ã«ã¯ã€ã‚ˆã‚Šæœ¬æ ¼çš„ãªãƒ†ãƒ¼ãƒæ•™æä½œå“ã‚’å…ƒã«ã—ã¦ã€çŸ­æ™‚é–“ã§æ¥½ã—ã¿ãªãŒã‚‰å¯†åº¦ã®æ¿ƒã„å­¦ç¿’ã‚’è¡Œãˆã‚‹ã‚ˆã†ã«å†…å®¹ã‚’æ•´ãˆã¦ã„ã¾ã™ã€‚
                </p>
            </div>

            <div>
                <p><strong>é–‹å‚¬æ—¥æ™‚ï¼š</strong>2026å¹´3æœˆ15æ—¥(æ—¥)</p>
                <p><strong>æ™‚é–“å¸¯ï¼š</strong></p>
                <ul style="margin: 10px 0; padding-left: 25px;">
                    <li>1éƒ¨ï¼š10:00ã€œ10:40ï¼ˆ40åˆ†ï¼‰</li>
                    <li>2éƒ¨ï¼š11:00ã€œ11:40ï¼ˆ40åˆ†ï¼‰</li>
                    <li>3éƒ¨ï¼š13:00ã€œ13:40ï¼ˆ40åˆ†ï¼‰</li>
                    <li>4éƒ¨ï¼š14:00ã€œ14:40ï¼ˆ40åˆ†ï¼‰</li>
                    <li>5éƒ¨ï¼š15:00ã€œ15:40ï¼ˆ40åˆ†ï¼‰</li>
                </ul>
                <p><strong>ä¼šå ´ï¼š</strong>å°¼å´å¸‚ç«‹æ­¦åº«è¥¿ç”Ÿæ¶¯å­¦ç¿’ãƒ—ãƒ©ã‚¶ 2F å°ä¼šè­°å®¤</p>
                <p><strong>ä½æ‰€ï¼š</strong>ã€’661-0041 å…µåº«çœŒå°¼å´å¸‚æ­¦åº«ã®é‡Œï¼‘ä¸ç›®ï¼‘ï¼“âˆ’ï¼’ï¼™</p>
                <p><strong>å¯¾è±¡ï¼š</strong>ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«èˆˆå‘³ã®ã‚ã‚‹ãŠå­ã•ã‚“ï¼ˆåˆå¿ƒè€…å¤§æ­“è¿ï¼‰</p>
                <p><strong>å‚åŠ è²»ï¼š</strong>ç„¡æ–™</p>
                <p><strong>é€£çµ¡å…ˆï¼š</strong>070-2327-8083ï¼ˆæ‹…å½“ï¼šå½¦é˜ª å‰æµ·ï¼‰</p>
            </div>

            <div>
                <h3>
                    <span class="event-icon"></span>
                    ãƒ—ãƒ­ã‚°ãƒ©ãƒ å†…å®¹
                </h3>
                
                <div style="margin: 20px 0;">
                    <h4 style="color: var(--primary); font-size: 1.2rem; margin-bottom: 10px;">
                        ã€ã‚¹ãƒ†ãƒƒãƒ—1ã€‘ã‚²ãƒ¼ãƒ ã‚’ãƒ—ãƒ¬ã‚¤ã—ã¦ã¿ã‚ˆã†ï¼ï¼ˆ20åˆ†ï¼‰
                    </h4>
                    <p>
                        è¦‹æœ¬ã®ã‚²ãƒ¼ãƒ ã«ãã£ã¦ã€å‚åŠ å…ç«¥ãŒè‡ªåˆ†ã ã‘ã®ã‚²ãƒ¼ãƒ ã¥ãã‚Šã«æŒ‘æˆ¦ï¼<br>
                        æƒ³åƒåŠ›ã‚’è†¨ã‚‰ã¾ã›ã¦ã€æ§˜ã€…ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§æ§‹ç¯‰ã•ã‚ŒãŸã‚²ãƒ¼ãƒ ã‚’ãƒ—ãƒ¬ã‚¤ã—ã¾ã™ï¼
                    </p>
                </div>

                <div style="margin: 20px 0;">
                    <h4 style="color: var(--primary); font-size: 1.2rem; margin-bottom: 10px;">
                        ã€ã‚¹ãƒ†ãƒƒãƒ—2ã€‘ã‚²ãƒ¼ãƒ æ”¹é€ ã§ã‚‚ã‚Šã‚ãŒã‚ã†ï¼ï¼ˆ20åˆ†ï¼‰
                    </h4>
                    <p>
                        å®Œæˆã—ãŸã‚²ãƒ¼ãƒ ã«ã€ã‚‚ã£ã¨ãƒ¯ã‚¯ãƒ¯ã‚¯ã‚’ãƒ—ãƒ©ã‚¹ï¼<br>
                        ãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒç”»é¢ã®å¤–ã¸é£›ã³å‡ºã™ï¼ï¼Ÿ<br>
                        ãƒ»æ€ã‚ãšã€Œã‚ã£ï¼ã€ã¨é©šãä»•æ›ã‘ãŒç››ã‚Šã ãã•ã‚“ï¼<br><br>
                        ã‚³ãƒ¼ãƒã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã§ã€ä½œå“ã‚’ã•ã‚‰ã«ãƒ‘ãƒ¯ãƒ¼ã‚¢ãƒƒãƒ—ï¼
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- ãƒ•ã‚©ãƒ¼ãƒ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section class="event-section" id="form-section">
        <div class="container">
            <h2 class="event-title" style="font-size: 1.8rem;">å‚åŠ ç”³ã—è¾¼ã¿</h2>
            <p class="event-subtitle" style="font-size: 1rem;">ä»¥ä¸‹ã®ãƒ•ã‚©ãƒ¼ãƒ ã«ã”è¨˜å…¥ã®ä¸Šã€é€ä¿¡ã—ã¦ãã ã•ã„</p>
            
            <div class="event-card">

                
                <!-- æ™‚é–“å¸¯é¸æŠ -->
                <div class="time-slot-selection">
                    <label class="time-slot-label">
                        å‚åŠ å¸Œæœ›æ™‚é–“å¸¯<span class="time-slot-required">â€»å¿…é ˆ</span>
                    </label>
                    <div class="time-slot-buttons" id="time-slot-buttons">
                        <button type="button" class="time-slot-button" onclick="selectTimeSlot('1éƒ¨ï¼š10:00ã€œ10:40', event)">
                            <div class="time-label">1éƒ¨ï¼š10:00ã€œ10:40</div>
                            <div class="time-duration">40åˆ†</div>
                        </button>
                        <button type="button" class="time-slot-button" onclick="selectTimeSlot('2éƒ¨ï¼š11:00ã€œ11:40', event)">
                            <div class="time-label">2éƒ¨ï¼š11:00ã€œ11:40</div>
                            <div class="time-duration">40åˆ†</div>
                        </button>
                        <button type="button" class="time-slot-button" onclick="selectTimeSlot('3éƒ¨ï¼š13:00ã€œ13:40', event)">
                            <div class="time-label">3éƒ¨ï¼š13:00ã€œ13:40</div>
                            <div class="time-duration">40åˆ†</div>
                        </button>
                        <button type="button" class="time-slot-button" onclick="selectTimeSlot('4éƒ¨ï¼š14:00ã€œ14:40', event)">
                            <div class="time-label">4éƒ¨ï¼š14:00ã€œ14:40</div>
                            <div class="time-duration">40åˆ†</div>
                        </button>
                        <button type="button" class="time-slot-button" onclick="selectTimeSlot('5éƒ¨ï¼š15:00ã€œ15:40', event)">
                            <div class="time-label">5éƒ¨ï¼š15:00ã€œ15:40</div>
                            <div class="time-duration">40åˆ†</div>
                        </button>
                    </div>
                </div>
                
                <!-- ãŠå­ã•ã‚“ã®ãŠåå‰ -->
                <div class="form-group">
                    <label for="child-name-input" class="form-label">
                        ãŠå­ã•ã‚“ã®ãŠåå‰<span class="required">â€»å¿…é ˆ</span>
                    </label>
                    <input 
                        type="text" 
                        id="child-name-input" 
                        class="form-input" 
                        placeholder="ä¾‹ï¼šã‚„ã¾ã  ãŸã‚ã†"
                        oninput="handleNameInput()"
                    >
                </div>
                
                <!-- é›»è©±ç•ªå· -->
                <div class="form-group">
                    <label for="phone-input" class="form-label">
                        ãŠé›»è©±ç•ªå·<span class="required">â€»å¿…é ˆ</span>
                    </label>
                    <input 
                        type="tel" 
                        id="phone-input" 
                        class="form-input" 
                        placeholder="ä¾‹ï¼š09012345678"
                        oninput="checkPhoneNumber()"
                    >
                    <div class="error-message" id="phone-error-message">
                        æ­£ã—ã„é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚10æ¡ã¾ãŸã¯11æ¡ã®æ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
                    </div>
                </div>
                
                <!-- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ -->
                <div class="form-group">
                    <label for="email-input" class="form-label">
                        ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹<span class="optional">ï¼ˆä»»æ„ï¼‰</span>
                    </label>
                    <input 
                        type="email" 
                        id="email-input" 
                        class="form-input" 
                        placeholder="ä¾‹ï¼šexample@email.com"
                        oninput="checkEmail()"
                    >
                    <div class="error-message" id="email-error-message">
                        æ­£ã—ã„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
                    </div>
                </div>
                
                <!-- ãã®ä»–ã”è³ªå•ãªã© -->
                <div class="form-group">
                    <label for="message-textarea" class="form-label">
                        ãã®ä»–ã”è³ªå•ãªã©<span class="optional">ï¼ˆä»»æ„ï¼‰</span>
                    </label>
                    <textarea 
                        id="message-textarea" 
                        class="form-textarea" 
                        placeholder="ã”è³ªå•ã‚„ã”è¦æœ›ãŒã”ã–ã„ã¾ã—ãŸã‚‰ã€ã“ã¡ã‚‰ã«ã”è¨˜å…¥ãã ã•ã„"
                        oninput="updateMessage()"
                    ></textarea>
                </div>
                
                <!-- é€ä¿¡ãƒœã‚¿ãƒ³ -->
                <div class="submit-section">
                    <button class="submit-button" id="submit-button" onclick="submitEventForm()" disabled>
                        ç”³ã—è¾¼ã¿ã‚’é€ä¿¡ã™ã‚‹
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- æ„Ÿè¬ãƒšãƒ¼ã‚¸ -->
    <section class="thank-you-section" id="thank-you-section">
        <div class="thank-you-container">
            <div class="reservation-info-box" id="reservation-info-box">
                <div class="reservation-info-title">ğŸ“… ç”³ã—è¾¼ã¿å†…å®¹</div>
                <div class="reservation-info-item" id="reservation-time-item"></div>
                <div class="reservation-info-item" id="reservation-name-item"></div>
                <div class="reservation-info-item" id="reservation-phone-item"></div>
                <div class="reservation-info-item" id="reservation-email-item" style="display: none;"></div>
                <div class="reservation-info-item" id="reservation-message-item" style="display: none;"></div>
            </div>
            
            <div style="background: rgba(255, 255, 255, 0.15); border-radius: 15px; padding: 20px; margin-bottom: 30px;">
                <p style="font-size: 1rem; line-height: 1.8; margin: 0;">
                    <strong style="color: #fff8e1;">ğŸ® å½“æ—¥ã‚’ãŠæ¥½ã—ã¿ã«ï¼</strong><br>
                    ã‚¤ãƒ™ãƒ³ãƒˆå½“æ—¥ã¯ã€å°¼å´å¸‚ç«‹æ­¦åº«è¥¿ç”Ÿæ¶¯å­¦ç¿’ãƒ—ãƒ©ã‚¶ 2F å°ä¼šè­°å®¤ã«ãŠè¶Šã—ãã ã•ã„ã€‚<br>
                    ãŠä¼šã„ã§ãã‚‹ã®ã‚’æ¥½ã—ã¿ã«ã—ã¦ãŠã‚Šã¾ã™ï¼
                </p>
            </div>
            
            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                <a href="index.html" style="display: inline-block; padding: 12px 30px; background: white; color: var(--primary); text-decoration: none; border-radius: 25px; font-weight: bold; transition: all 0.2s;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.15)'" onmouseout="this.style.transform=''; this.style.boxShadow=''">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</a>
                <a href="tel:070-2327-8083" style="display: inline-block; padding: 12px 30px; background: rgba(255,255,255,0.2); color: white; text-decoration: none; border-radius: 25px; font-weight: bold; transition: all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">ğŸ“ ãŠå•ã„åˆã‚ã›: 070-2327-8083</a>
            </div>
        </div>
    </section>

    <footer>
        <p><a href="index.html#access">ã‚¢ã‚¯ã‚»ã‚¹ãƒ»å–¶æ¥­æ™‚é–“ã¯ã“ã¡ã‚‰</a></p>
        <p>&copy; 2025 iTeen æ­¦åº«ä¹‹è˜æ ¡</p>
    </footer>

    <!-- å…±é€šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€ -->
    <script src="../html/config.js"></script>
    
    <script>
        // CONFIGãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
        if (typeof CONFIG === 'undefined') {
            console.error('CONFIGãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚config.jsã®ãƒ‘ã‚¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
        } else {
            console.log('CONFIGèª­ã¿è¾¼ã¿æˆåŠŸ:', CONFIG);
        }
        
        // é¸æŠã•ã‚ŒãŸæ™‚é–“å¸¯
        let selectedTimeSlot = null;
        
        // å­ä¾›ã®åå‰
        let childName = '';
        
        // é›»è©±ç•ªå·
        let phoneNumber = '';
        
        // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
        let emailAddress = '';
        
        // è‡ªç”±è¨˜è¿°æ¬„
        let messageText = '';
        
        // æ™‚é–“å¸¯ã‚’é¸æŠ
        function selectTimeSlot(timeSlot, event) {
            // ä»¥å‰ã®é¸æŠã‚’è§£é™¤
            document.querySelectorAll('.time-slot-button').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // æ–°ã—ã„é¸æŠ
            const button = event ? event.target.closest('.time-slot-button') : document.querySelector(`.time-slot-button[onclick*="${timeSlot}"]`);
            if (button) {
                button.classList.add('selected');
            }
            selectedTimeSlot = timeSlot;
            
            // é€ä¿¡ãƒœã‚¿ãƒ³ã®æœ‰åŠ¹/ç„¡åŠ¹ã‚’æ›´æ–°
            updateSubmitButton();
        }
        
        // åå‰ã‚’å…¥åŠ›
        function handleNameInput() {
            const nameInput = document.getElementById('child-name-input');
            childName = nameInput.value.trim();
            updateSubmitButton();
        }
        
        // é›»è©±ç•ªå·ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        function validateJapanesePhoneNumber(phone) {
            if (!phone) return false;
            
            // ãƒã‚¤ãƒ•ãƒ³ã‚„ã‚¹ãƒšãƒ¼ã‚¹ã‚’é™¤å»
            const cleaned = phone.replace(/[-\s]/g, '');
            
            // æ•°å­—ã®ã¿ã‹ãƒã‚§ãƒƒã‚¯
            if (!/^\d+$/.test(cleaned)) {
                return false;
            }
            
            // æºå¸¯é›»è©±ï¼ˆ090, 080, 070ã§å§‹ã¾ã‚‹11æ¡ï¼‰
            if (cleaned.length === 11 && /^0[789]0/.test(cleaned)) {
                return true;
            }
            
            // å›ºå®šé›»è©±ï¼ˆ10æ¡ã¾ãŸã¯11æ¡ï¼‰
            if (cleaned.length === 10 || cleaned.length === 11) {
                // ãƒ•ãƒªãƒ¼ãƒ€ã‚¤ãƒ¤ãƒ«ï¼ˆ0120, 0800ãªã©ï¼‰
                if (/^0(120|800|570|500|200|990|920|930|950|960|980|570)/.test(cleaned)) {
                    return true;
                }
                // ãã®ä»–ã®å›ºå®šé›»è©±
                if (/^0[1-9]/.test(cleaned)) {
                    return true;
                }
            }
            
            return false;
        }
        
        // é›»è©±ç•ªå·ã‚’ãƒã‚§ãƒƒã‚¯
        function checkPhoneNumber() {
            const phoneInput = document.getElementById('phone-input');
            const errorMessage = document.getElementById('phone-error-message');
            phoneNumber = phoneInput.value.trim();
            
            if (phoneNumber) {
                const isValid = validateJapanesePhoneNumber(phoneNumber);
                
                if (isValid) {
                    phoneInput.classList.remove('error');
                    errorMessage.classList.remove('show');
                } else {
                    phoneInput.classList.add('error');
                    errorMessage.classList.add('show');
                    phoneNumber = '';
                }
            } else {
                phoneInput.classList.remove('error');
                errorMessage.classList.remove('show');
            }
            
            updateSubmitButton();
        }
        
        // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        function validateEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }
        
        // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯
        function checkEmail() {
            const emailInput = document.getElementById('email-input');
            const errorMessage = document.getElementById('email-error-message');
            emailAddress = emailInput.value.trim();
            
            if (emailAddress) {
                const isValid = validateEmail(emailAddress);
                
                if (isValid) {
                    emailInput.classList.remove('error');
                    errorMessage.classList.remove('show');
                } else {
                    emailInput.classList.add('error');
                    errorMessage.classList.add('show');
                    emailAddress = '';
                }
            } else {
                emailInput.classList.remove('error');
                errorMessage.classList.remove('show');
            }
        }
        
        // è‡ªç”±è¨˜è¿°æ¬„ã‚’æ›´æ–°
        function updateMessage() {
            const messageTextarea = document.getElementById('message-textarea');
            messageText = messageTextarea.value.trim();
        }
        
        // é€ä¿¡ãƒœã‚¿ãƒ³ã®æœ‰åŠ¹/ç„¡åŠ¹ã‚’æ›´æ–°
        function updateSubmitButton() {
            const submitButton = document.getElementById('submit-button');
            
            const hasTimeSlot = selectedTimeSlot !== null;
            const hasName = childName && childName.trim() !== '';
            const hasPhone = phoneNumber && phoneNumber.trim() !== '' && validateJapanesePhoneNumber(phoneNumber);
            
            if (hasTimeSlot && hasName && hasPhone) {
                submitButton.disabled = false;
            } else {
                submitButton.disabled = true;
            }
        }
        
        // ãƒ•ã‚©ãƒ¼ãƒ ã‚’é€ä¿¡
        function submitEventForm() {
            console.log('submitEventForm ãŒå‘¼ã³å‡ºã•ã‚Œã¾ã—ãŸ');
            console.log('selectedTimeSlot:', selectedTimeSlot);
            console.log('childName:', childName);
            console.log('phoneNumber:', phoneNumber);
            
            if (!selectedTimeSlot) {
                alert('å‚åŠ å¸Œæœ›æ™‚é–“å¸¯ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚');
                return;
            }
            if (!childName || childName.trim() === '') {
                alert('ãŠå­ã•ã‚“ã®ãŠåå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
                document.getElementById('child-name-input').focus();
                return;
            }
            if (!phoneNumber || phoneNumber.trim() === '') {
                alert('é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
                document.getElementById('phone-input').focus();
                return;
            }
            
            if (!validateJapanesePhoneNumber(phoneNumber)) {
                alert('æ­£ã—ã„é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\næ—¥æœ¬å›½å†…ã®é›»è©±ç•ªå·ï¼ˆ10æ¡ã¾ãŸã¯11æ¡ã®æ•°å­—ï¼‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
                document.getElementById('phone-input').focus();
                document.getElementById('phone-input').classList.add('error');
                document.getElementById('phone-error-message').classList.add('show');
                return;
            }
            
            if (emailAddress && emailAddress.trim() !== '') {
                if (!validateEmail(emailAddress)) {
                    alert('æ­£ã—ã„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
                    document.getElementById('email-input').focus();
                    document.getElementById('email-input').classList.add('error');
                    document.getElementById('email-error-message').classList.add('show');
                    return;
                }
            }
            
            // CONFIGãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
            if (typeof CONFIG === 'undefined') {
                console.error('CONFIGãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚mailtoãƒªãƒ³ã‚¯ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚');
                sendEmailWithMailto();
                return;
            }
            
            // Google Apps ScriptãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€Google Apps Scriptã§é€ä¿¡
            if (CONFIG.GOOGLE_APPS_SCRIPT_URL && CONFIG.GOOGLE_APPS_SCRIPT_URL !== 'YOUR_GOOGLE_APPS_SCRIPT_URL') {
                console.log('Google Apps Scriptã‚’ä½¿ç”¨ã—ã¦é€ä¿¡ã—ã¾ã™');
                sendEmailWithGoogleAppsScript();
            } else {
                // Google Apps ScriptãŒè¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€mailtoãƒªãƒ³ã‚¯ã‚’ä½¿ç”¨
                console.log('mailtoãƒªãƒ³ã‚¯ã‚’ä½¿ç”¨ã—ã¦é€ä¿¡ã—ã¾ã™');
                sendEmailWithMailto();
            }
        }
        
        // Google Apps Scriptã‚’ä½¿ç”¨ã—ã¦ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡
        function sendEmailWithGoogleAppsScript() {
            const submitButton = document.getElementById('submit-button');
            submitButton.disabled = true;
            submitButton.textContent = 'é€ä¿¡ä¸­...';
            
            // æ™‚é–“å¸¯ã‹ã‚‰æ™‚é–“ã‚’æŠ½å‡ºï¼ˆä¾‹: "1éƒ¨ï¼š10:00ã€œ10:40" â†’ "10:00"ï¼‰
            let timeValue = '';
            if (selectedTimeSlot) {
                const timeMatch = selectedTimeSlot.match(/(\d{1,2}):(\d{2})/);
                if (timeMatch) {
                    timeValue = `${timeMatch[1].padStart(2, '0')}:${timeMatch[2]}`;
                }
            }
            
            const emailData = {
                to: CONFIG.EMAIL,
                subject: 'ã‚²ãƒ¼ãƒ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å¤§ä¼š å‚åŠ ç”³ã—è¾¼ã¿',
                // Google Apps ScriptãŒæœŸå¾…ã™ã‚‹å½¢å¼ã«åˆã‚ã›ã‚‹
                date: '2026å¹´3æœˆ15æ—¥(æ—¥)',
                date_raw: '2026-03-15', // YYYY-MM-DDå½¢å¼ï¼ˆå¿…é ˆï¼‰
                time: timeValue || '10:00', // HH:MMå½¢å¼ï¼ˆå¿…é ˆï¼‰
                time_slot: selectedTimeSlot, // è¡¨ç¤ºç”¨
                child_name: childName,
                phone: phoneNumber,
                email: emailAddress || 'æœªå…¥åŠ›',
                message: messageText || 'ãªã—',
                school_type: 'ã‚²ãƒ¼ãƒ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å¤§ä¼š', // ã‚¤ãƒ™ãƒ³ãƒˆåã¨ã—ã¦ä½¿ç”¨
                grade: '', // ã‚¤ãƒ™ãƒ³ãƒˆãªã®ã§å­¦å¹´ã¯ç©º
                body: `ã‚²ãƒ¼ãƒ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å¤§ä¼šã¸ã®å‚åŠ ç”³ã—è¾¼ã¿ãŒã‚ã‚Šã¾ã—ãŸã€‚

ãŠå­ã•ã‚“ã®ãŠåå‰: ${childName}
é›»è©±ç•ªå·: ${phoneNumber}
ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹: ${emailAddress || 'æœªå…¥åŠ›'}
å‚åŠ å¸Œæœ›æ™‚é–“å¸¯: ${selectedTimeSlot}
${messageText ? `\nã”è³ªå•ãƒ»ã”è¦æœ›:\n${messageText}` : ''}

å‚åŠ ç¢ºå®šã®ãŸã‚ã€ãŠå®¢æ§˜ã«ã”é€£çµ¡ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚

---
ã“ã®ãƒ¡ãƒ¼ãƒ«ã¯ã‚¤ãƒ™ãƒ³ãƒˆç”³ã—è¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰è‡ªå‹•é€ä¿¡ã•ã‚Œã¾ã—ãŸã€‚
iTeen æ­¦åº«ä¹‹è˜æ ¡`,
                replyTo: emailAddress && emailAddress.trim() !== '' && emailAddress !== 'æœªå…¥åŠ›' ? emailAddress.trim() : undefined,
                replySubject: emailAddress && emailAddress.trim() !== '' && emailAddress !== 'æœªå…¥åŠ›' ? 'ã€iTeen æ­¦åº«ä¹‹è˜æ ¡ã€‘ã‚²ãƒ¼ãƒ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å¤§ä¼š å‚åŠ ç”³ã—è¾¼ã¿ã®ã”ç¢ºèª' : undefined,
                replyBody: emailAddress && emailAddress.trim() !== '' && emailAddress !== 'æœªå…¥åŠ›' ? `${childName} æ§˜

ã“ã®åº¦ã¯ã€æ­¦åº«ã£å­ã‚ã¤ã¾ã‚Œï¼ã‚²ãƒ¼ãƒ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å¤§ä¼šã¸ã®å‚åŠ ç”³ã—è¾¼ã¿ã‚’ãŠç”³ã—è¾¼ã¿ã„ãŸã ãã€èª ã«ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚

ä»¥ä¸‹ã®å†…å®¹ã§ç”³ã—è¾¼ã¿ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸã€‚

ã€ç”³ã—è¾¼ã¿å†…å®¹ã€‘
ãŠå­ã•ã‚“ã®ãŠåå‰: ${childName}
é›»è©±ç•ªå·: ${phoneNumber}
å‚åŠ å¸Œæœ›æ™‚é–“å¸¯: ${selectedTimeSlot}${messageText && messageText.trim() !== '' ? `\n\nã”è³ªå•ãƒ»ã”è¦æœ›:\n${messageText}` : ''}

ã€ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã€‘
é–‹å‚¬æ—¥æ™‚: 2026å¹´3æœˆ15æ—¥(æ—¥) ${selectedTimeSlot}
ä¼šå ´: å°¼å´å¸‚ç«‹æ­¦åº«è¥¿ç”Ÿæ¶¯å­¦ç¿’ãƒ—ãƒ©ã‚¶ 2F å°ä¼šè­°å®¤
ä½æ‰€: ã€’661-0041 å…µåº«çœŒå°¼å´å¸‚æ­¦åº«ã®é‡Œï¼‘ä¸ç›®ï¼‘ï¼“âˆ’ï¼’ï¼™

å‚åŠ ç¢ºå®šã®ãŸã‚ã€æ‹…å½“è€…ã‚ˆã‚Šã”é€£çµ¡ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚
ãŠæ€¥ãã®å ´åˆã¯ã€ãŠé›»è©±ï¼ˆ070-2327-8083ï¼‰ã§ã‚‚ãŠå•ã„åˆã‚ã›ã„ãŸã ã‘ã¾ã™ã€‚

ãŠä¼šã„ã§ãã‚‹ã®ã‚’æ¥½ã—ã¿ã«ã—ã¦ãŠã‚Šã¾ã™ï¼

---
iTeen å­ã©ã‚‚ã®ãŸã‚ã®ICTæ•™è‚²æ™®åŠä¿ƒé€²å§”å“¡ä¼š
æ‹…å½“: å½¦é˜ª å‰æµ·
é›»è©±: 070-2327-8083` : undefined
            };
            
            // ãƒ‡ãƒãƒƒã‚°ç”¨ãƒ­ã‚°
            console.log('ğŸ“§ ãƒ¡ãƒ¼ãƒ«é€ä¿¡ãƒ‡ãƒ¼ã‚¿ç¢ºèª:', {
                hasEmail: !!emailAddress,
                emailAddress: emailAddress,
                hasReplyTo: !!emailData.replyTo,
                replyTo: emailData.replyTo,
                date_raw: emailData.date_raw,
                time: emailData.time,
                time_slot: emailData.time_slot
            });
            
            console.log('ğŸ“¤ Google Apps Scriptã«é€ä¿¡ä¸­...', emailData);
            
            fetch(CONFIG.GOOGLE_APPS_SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors', // no-corsãƒ¢ãƒ¼ãƒ‰ã§CORSã‚¨ãƒ©ãƒ¼ã‚’å›é¿
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(emailData)
            })
            .then(() => {
                // no-corsãƒ¢ãƒ¼ãƒ‰ã§ã¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å–å¾—ã§ããªã„ãŸã‚ã€å¸¸ã«æˆåŠŸã¨ã—ã¦æ‰±ã†
                // å®Ÿéš›ã«ã¯ãƒ¡ãƒ¼ãƒ«é€ä¿¡ãŒæˆåŠŸã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒé«˜ã„
                console.log('âœ… Google Apps Scriptã«é€ä¿¡ã—ã¾ã—ãŸï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯å–å¾—ã§ãã¾ã›ã‚“ãŒã€ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã¯æˆåŠŸã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ï¼‰');
                
                // é€ä¿¡å±¥æ­´ã‚’ä¿å­˜
                if (typeof saveEmailHistory === 'function') {
                    saveEmailHistory('event', {
                        child_name: childName,
                        phone: phoneNumber,
                        email: emailAddress || '',
                        time_slot: selectedTimeSlot,
                        message: messageText || '',
                        event_type: 'game_programming_event',
                        event_date: '2026å¹´3æœˆ15æ—¥(æ—¥)'
                    });
                }
                
                // æ„Ÿè¬ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤º
                showThankYouPage();
            })
            .catch(error => {
                console.error('âŒ é€ä¿¡ã‚¨ãƒ©ãƒ¼:', error);
                alert('ç”³ã—è¾¼ã¿ã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãŠæ‰‹æ•°ã§ã™ãŒã€ãŠé›»è©±ï¼ˆ070-2327-8083ï¼‰ã§ãŠç”³ã—è¾¼ã¿ãã ã•ã„ã€‚');
                submitButton.disabled = false;
                submitButton.textContent = 'ç”³ã—è¾¼ã¿ã‚’é€ä¿¡ã™ã‚‹';
            });
        }
        
        // mailtoãƒªãƒ³ã‚¯ã‚’ä½¿ç”¨ã—ã¦ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡
        function sendEmailWithMailto() {
            const subject = encodeURIComponent('ã‚²ãƒ¼ãƒ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å¤§ä¼š å‚åŠ ç”³ã—è¾¼ã¿');
            const body = encodeURIComponent(`ã‚²ãƒ¼ãƒ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å¤§ä¼šã¸ã®å‚åŠ ç”³ã—è¾¼ã¿

ãŠå­ã•ã‚“ã®ãŠåå‰: ${childName}
é›»è©±ç•ªå·: ${phoneNumber}
ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹: ${emailAddress || 'æœªå…¥åŠ›'}
å‚åŠ å¸Œæœ›æ™‚é–“å¸¯: ${selectedTimeSlot}
${messageText ? `\nã”è³ªå•ãƒ»ã”è¦æœ›:\n${messageText}` : ''}`);
            
            window.location.href = `mailto:${CONFIG.EMAIL}?subject=${subject}&body=${body}`;
            
            // é€ä¿¡å±¥æ­´ã‚’ä¿å­˜
            if (typeof saveEmailHistory === 'function') {
                saveEmailHistory('event', {
                    child_name: childName,
                    phone: phoneNumber,
                    email: emailAddress || '',
                    time_slot: selectedTimeSlot,
                    message: messageText || '',
                    event_type: 'game_programming_event',
                    event_date: '2026å¹´3æœˆ15æ—¥(æ—¥)'
                });
            }
            
            // æ„Ÿè¬ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤º
            showThankYouPage();
        }
        
        // æ„Ÿè¬ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤º
        function showThankYouPage() {
            // ãƒ•ã‚©ãƒ¼ãƒ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¨ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’éè¡¨ç¤º
            const formSection = document.getElementById('form-section');
            const eventInfoSection = document.querySelector('.event-section');
            if (formSection) formSection.style.display = 'none';
            if (eventInfoSection) eventInfoSection.style.display = 'none';
            document.querySelector('header').style.display = 'none';
            document.querySelector('footer').style.display = 'none';
            
            // æ„Ÿè¬ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤º
            const thankYouSection = document.getElementById('thank-you-section');
            thankYouSection.classList.add('show');
            
            // ç”³ã—è¾¼ã¿å†…å®¹ã‚’è¡¨ç¤º
            document.getElementById('reservation-time-item').textContent = `å‚åŠ å¸Œæœ›æ™‚é–“å¸¯: ${selectedTimeSlot}`;
            document.getElementById('reservation-name-item').textContent = `ãŠå­ã•ã‚“ã®ãŠåå‰: ${childName}`;
            document.getElementById('reservation-phone-item').textContent = `é›»è©±ç•ªå·: ${phoneNumber}`;
            
            if (emailAddress && emailAddress.trim() !== '') {
                document.getElementById('reservation-email-item').textContent = `ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹: ${emailAddress}`;
                document.getElementById('reservation-email-item').style.display = 'block';
            }
            
            if (messageText && messageText.trim() !== '') {
                document.getElementById('reservation-message-item').textContent = `ã”è³ªå•ãƒ»ã”è¦æœ›: ${messageText}`;
                document.getElementById('reservation-message-item').style.display = 'block';
            }
            
            // ãƒšãƒ¼ã‚¸ãƒˆãƒƒãƒ—ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>

